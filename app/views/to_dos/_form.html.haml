- if @to_do.new_record?
  = form_for @to_do ,:url => class_room_to_dos_path(@class.id), :method => :post do |f|
    -if @to_do.errors.any?
      #error_explanation
        %h2= "#{pluralize(@to_do.errors.count, "error")} prohibited this to_do from being saved:"
        %ul
          - @to_do.errors.full_messages.each do |msg|
            %li= msg

    .field
      = f.label :title
      %br
      = f.text_field :title
    .field
      = f.label :date
    .field
      = 'year'
      = select_year(my_date_time, :prefix => 'date',:start_year => my_date_time.next_year.year, :end_year => my_date_time.year)
      = 'month'
      =  select_month(my_date_time, :prefix => 'date')
      = 'date'
      = select_day(my_date_time, :prefix => 'date')
      = 'hour'
      = select_hour(my_date_time, :prefix => 'date')
      = ':'
      =  select_minute(my_date_time, :prefix => 'date')
    .field
      = f.label :description
      %br
      = f.text_area :description
      = f.hidden_field :user_id,:value=>current_user.id
    .field
      = hidden_field_tag 'to_do[status]',"false"
      = hidden_field_tag :class_room_id,"#{params[:class_room_id]}"
    .actions
      = f.submit 'Save'
- else
  = form_for @to_do, :url => class_room_to_do_path(@class.id, @to_do.id), :method => :put do |f|
    -if @to_do.errors.any?
      #error_explanation
        %h2= "#{pluralize(@to_do.errors.count, "error")} prohibited this to_do from being saved:"
        %ul
          - @to_do.errors.full_messages.each do |msg|
            %li= msg

    .field
      = f.label :title
      %br
      = f.text_field :title
    .field
      = f.label :date
    .field
      = 'year'
      = select_year(my_date_time, :prefix => 'date',:start_year => my_date_time.next_year.year, :end_year => my_date_time.year)
      = 'month'
      =  select_month(my_date_time, :prefix => 'date')
      = 'date'
      = select_day(my_date_time, :prefix => 'date')
      = 'hour'
      = select_hour(my_date_time, :prefix => 'date')
      = ':'
      =  select_minute(my_date_time, :prefix => 'date')
    .field
      = f.label :description
      %br
      = f.text_area :description
      = f.hidden_field :user_id,:value=>current_user.id
    .field
      = hidden_field_tag 'to_do[status]',"false"
      = hidden_field_tag :class_room_id,"#{params[:class_room_id]}"
    .actions
      = f.submit 'Save'